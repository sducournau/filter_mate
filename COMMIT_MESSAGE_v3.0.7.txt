fix(backends): combine FID filters in 2nd filter instead of replace (v3.0.7)

ðŸ”´ CRITICAL BUG FIXED
-------------------
The 2nd filter was incorrectly REPLACING the 1st filter instead of COMBINING them
across ALL backends (PostgreSQL, Spatialite NATIVE mode, OGR).

Root Cause:
----------
The v2.9.42 fix used `combine_operator=None` as a REPLACE signal:
- filter_task.py detected FID-only filters and set `combine_operator=None`
- Backends interpreted `None` as "replace old filter"
- BUT `None` is also the DEFAULT value when no operator is specified!

Result: 2nd filter always replaced 1st filter, losing previous results.

The v3.0.3 fix corrected DIRECT_SQL and SOURCE_TABLE modes (they have their
own FID detection logic), but missed:
- Spatialite NATIVE mode
- PostgreSQL apply_filter()
- OGR backend (4 different locations)

âœ… FIX Applied (v3.0.7)
---------------------
All backends now:
1. Detect if old_subset is a FID-only filter (`fid IN (...)`)
2. If FID filter â†’ ALWAYS combine with AND (ignore combine_operator=None)
3. If non-FID filter + combine_operator=None â†’ use default AND
4. If explicit operator â†’ use that operator

This aligns ALL backends with the same correct behavior.

Files Modified:
-------------
- modules/backends/spatialite_backend.py
  * NATIVE mode (~line 2591): Added FID detection + AND default
  
- modules/backends/postgresql_backend.py
  * apply_filter() (~line 1825): Added FID detection + AND default
  
- modules/backends/ogr_backend.py
  * _apply_filter_standard() (~line 2633)
  * _try_multi_step_filter() (~line 642)
  * _apply_filter_large_dataset() (~line 3043)
  * _apply_filter_with_memory_optimization() (~line 3216)
  All 4 locations: Added FID detection + AND default

Behavior Change:
---------------
| Scenario                          | Before     | After        |
|-----------------------------------|------------|--------------|
| 2nd filter with existing FID      | REPLACE    | COMBINE (AND)|
| 2nd filter no operator (None)     | REPLACE    | COMBINE (AND)|
| 2nd filter explicit operator      | COMBINE    | COMBINE (OK) |
| Existing spatial filter           | REPLACE    | REPLACE (OK) |

Impact:
------
âœ… 2nd filter now correctly combines with 1st filter
âœ… Multi-step filtering works correctly on ALL backends
âœ… No more "lost first filter" bug
âœ… Consistent behavior across PostgreSQL, Spatialite, OGR

Testing:
-------
1. Apply 1st filter â†’ X features
2. Apply 2nd filter (different source)
3. Verify: result = intersection of both filters (not just 2nd filter)
4. Check logs show "âœ… Combining FID filter from step 1"

Version: 3.0.7
Date: 2026-01-07
See: docs/FIX_SECOND_FILTER_ALL_BACKENDS_v3.0.7.md
