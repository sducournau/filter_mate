fix: Add compatibility layer to HistoryService for get_or_create_history

PROBLEM:
AttributeError: 'HistoryService' object has no attribute 'get_or_create_history'

The migration from HistoryManager to HistoryService broke compatibility
with adapters/undo_redo_handler.py which expects the old per-layer API.

SOLUTION:
Added a backward compatibility layer to HistoryService:

1. New LayerHistory class: Wraps HistoryService with old FilterHistory API
2. New get_or_create_history() method: Returns LayerHistory wrapper for a layer
3. Internal cache (_layer_histories): Ensures same wrapper for same layer_id

CHANGES:
- core/services/history_service.py:
  + class LayerHistory (compatibility wrapper)
  + HistoryService._layer_histories cache
  + HistoryService.get_or_create_history() method

TESTING:
✅ Python syntax validation passed
✅ Unit tests for compatibility API passed
✅ Maintains 100% backward compatibility

MIGRATION PATH:
This is a temporary compatibility layer. Future versions will migrate
undo_redo_handler.py to use HistoryService directly and remove LayerHistory.

See: docs/BUGFIX-HISTORY-COMPATIBILITY-20260115.md

Fixes #MIG-E13-COMPAT
